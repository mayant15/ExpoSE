isCharAt:
  argpop i
  argpop c
  argpop s

  at r1 s i
  eq r1 r1 c

  ret r1

post$isCharAt: s.at(i) == c


find:
  argpop char
  argpop s
  var i 0
  
  loop:
    len r1 s
    jgeq i r1 :endloop
    # PC: i < len(s)    

    argpush s
    argpush char
    argpush i
    call r1 isCharAt

    jeq 0 r1 :endif
    # PC: s.at(i) == c && i < len(s)
      ret i
    endif:
    # PC: s.at(i) != c && i < len(s)

    inc i
    jmp :loop
  
  endloop:
    # PC: i >= len(s)
    ret -1

post$find: ret < len(s) && s.at(ret) == char && forall i: Int :: i < ret => s.at(i) != char
inferred_post$find: s.at(ret) == c && ret < len(s) || ret == -1
